<mat-card  *ngIf="newformation">
    <mat-card-header>
        <p>Add New Formation</p>
    </mat-card-header>

    <mat-card-content [formGroup]="newformation">
        <mat-grid-list cols="4" rowHeight="100px" gutterSize="10px">
            <mat-form-field color="accent" class="formation-titre">
                <mat-label>Formation Title</mat-label>
                <input matInput formControlName="titre">
                <mat-error>Field is required!</mat-error>
            </mat-form-field>
            <mat-form-field color="accent" class="formation-ecole">
                <mat-label>Ecole</mat-label>
                <input matInput formControlName="ecole">
                <mat-error>Field is required!</mat-error>
            </mat-form-field>
            <mat-form-field color="accent" class="formation-dated">
                <mat-label>Date Debut</mat-label>
                <input matInput formControlName="datedebut">
                <mat-error>Field is required!</mat-error>
            </mat-form-field>
            <mat-form-field color="accent" class="formation-datef">
                <mat-label>Date Fin</mat-label>
                <input matInput formControlName="datefin">
                <mat-error>Field is required!</mat-error>
            </mat-form-field>
        </mat-grid-list>
        <mat-grid-list cols="4" rowHeight="100px" gutterSize="10px">
            <mat-form-field color="accent" class="fg">
                <mat-label>Description</mat-label>
                <input matInput formControlName="description">
                <mat-error>Field is required!</mat-error>
            </mat-form-field>
            <mat-form-field color="accent" class="formatin-c">
                <mat-label>Date Creation</mat-label>
                <input matInput formControlName="date_creation">
                <mat-error>Field is required!</mat-error>
            </mat-form-field>
            <mat-form-field color="accent" class="formatin-c">
                <mat-label>Date Modification</mat-label>
                <input matInput formControlName="date_modification">
                <mat-error>Field is required!</mat-error>
            </mat-form-field>
            <mat-form-field color="accent" class="formation-cc">
                <mat-label>votre ID*</mat-label>
                <input matInput formControlName="idPersonnes">
                <mat-error>Field is required!</mat-error>
            </mat-form-field>
        </mat-grid-list>

        <!-- Slide Toggle pour "actuel" -->
        <mat-slide-toggle formControlName="actuel" class="smayka">Actuel</mat-slide-toggle>
        <button mat-stroked-button color="accent" [disabled]="isEditing || newformation.invalid" (click)="addnewformation()" class="bricol">
            <span>Add</span>
        </button>

        <button mat-raised-button color="primary" [disabled]="!isEditing || newformation.invalid"  (click)="updateFormation()">
            valid update
        </button>
    </mat-card-content>
</mat-card>


<section class="table">
    <table mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef class="f">ID</th>
            <td mat-cell *matCellDef="let element">{{element.id}}</td>
        </ng-container>

        <ng-container matColumnDef="titre">
            <th mat-header-cell *matHeaderCellDef class="f">Titre</th>
            <td mat-cell *matCellDef="let element">{{element.titre}}</td>
        </ng-container>

        <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef class="f">Description</th>
            <td mat-cell *matCellDef="let element">{{element.description}}</td>
        </ng-container>

        <ng-container matColumnDef="datedebut">
            <th mat-header-cell *matHeaderCellDef class="f">Date Debut</th>
            <td mat-cell *matCellDef="let element">{{element.datedebut}}</td>
        </ng-container>


        <ng-container matColumnDef="ecole">
            <th mat-header-cell *matHeaderCellDef class="f">Ecole</th>
            <td mat-cell *matCellDef="let element">{{element.ecole}}</td>
        </ng-container>


        <ng-container matColumnDef="idPersonnes">
            <th mat-header-cell *matHeaderCellDef class="f">Votre id</th>
            <td mat-cell *matCellDef="let element">{{element.idPersonnes}}</td>
        </ng-container>

        <ng-container matColumnDef="delete">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let element">
                <button mat-icon-button color="primary" matTooltip="Edit this experience"  (click)="editFormation(element)">
                    <mat-icon>edit</mat-icon>
                </button>

                <button mat-icon-button color="warn" matTooltip="Delete this experience"  (click)="deleteExistformation(element)">
                    <mat-icon>delete</mat-icon>
                </button>

            </td>
        </ng-container>
        

        <tr mat-header-row *matHeaderRowDef="columns"></tr>
        <tr mat-row *matRowDef="let row; columns: columns"></tr>
        
    </table>
</section>
